version: "3.1"

intents:
  - greet
  - accept_terms
  - follow_up_report
  - schedule_outage
  - online_billing
  - payment_option
  - requirements_checklist
  - schedule_pmos
  - download_forms
  - meter_concern
  - transfer_of_meter
  - out_of_scope
  - contact_information
  - rates
  - office_location
  - energy_saving_tips
  - talk_to_agent           # âœ… FIXED: Removed backslash
  - meter_concern_followup
  - report_power_outage     # âœ… ADDED: Missing intent
  - nlu_fallback  
  - resume_conversation 
  
entities:
  - po_full_name
  - po_address
  - po_contact_number
  - mc_account_no
  - mc_full_name
  - mc_address
  - mc_contact_number
  - mc_meter_concern
  - tta_full_name
  - tta_concern
  - tta_contact_number
  - fr_town
  - fr_barangay
  - mc_reference_number 
forms:
  power_outage_form:
    required_slots:
      - po_full_name
      - po_address
      - po_contact_number


  meter_concern_form:
    required_slots:
      - mc_account_no
      - mc_full_name
      - mc_address
      - mc_contact_number
      - mc_meter_concern

  follow_up_report_form:
    required_slots:
      - fr_town
      - fr_barangay
  meter_concern_followup_form:  
    required_slots:
      - mc_reference_number

      
  talk_to_agent_form:
    required_slots:
    - tta_full_name
    - tta_concern
    - tta_contact_number
 
slots:
  terms_agreed:
    type: text
    influence_conversation: true
    initial_value: false
    mappings:
      - type: custom


  po_full_name:
    type: text
    mappings:
      - type: from_text
        conditions:
          - active_loop: power_outage_form
            requested_slot: po_full_name
  tta_full_name:
    type: text
    mappings:
      - type: from_text
        conditions:
          - active_loop: talk_to_agent_form
            requested_slot: tta_full_name
  
  po_address:
    type: text
    mappings:
      - type: from_text
        conditions:
          - active_loop: power_outage_form
            requested_slot: po_address
  po_contact_number:
    type: text
    mappings:
      - type: from_text
        conditions:
          - active_loop: power_outage_form
            requested_slot: po_contact_number
  tta_contact_number:
    type: text
    mappings:
      - type: from_text
        conditions:
          - active_loop: talk_to_agent_form
            requested_slot: tta_contact_number


  mc_account_no:
    type: text
    mappings:
      - type: from_text
        conditions:
          - active_loop: meter_concern_form
            requested_slot: mc_account_no
  mc_full_name:
    type: text
    mappings:
      - type: from_text
        conditions:
          - active_loop: meter_concern_form
            requested_slot: mc_full_name
  mc_meter_concern:
    type: text
    mappings:
      - type: from_text
        conditions:
          - active_loop: meter_concern_form
            requested_slot: mc_meter_concern
  mc_address:
    type: text
    mappings:
      - type: from_text
        conditions:
          - active_loop: meter_concern_form
            requested_slot: mc_address
  mc_contact_number:
    type: text
    mappings:
      - type: from_text
        conditions:
          - active_loop: meter_concern_form
            requested_slot: mc_contact_number
  agent_requested:
    type: bool
    influence_conversation: false
    mappings:
      - type: custom

  tta_concern:
    type: text
    mappings:
      - type: from_text
        conditions:
          - active_loop: talk_to_agent_form
            requested_slot: tta_concern
    
  fr_town:
    type: text
    influence_conversation: false
    mappings:
      - type: from_text
        conditions:
          - active_loop: follow_up_report_form
            requested_slot: fr_town
  
  fr_barangay:
    type: text
    influence_conversation: false
    mappings:
      - type: from_text
        conditions:
          - active_loop: follow_up_report_form
            requested_slot: fr_barangay
  
  mc_reference_number:  
    type: text
    influence_conversation: false
    mappings:
      - type: from_text
        conditions:
          - active_loop: meter_concern_followup_form
            requested_slot: mc_reference_number
            
responses:
  utter_greet:
    - text: |
        ğŸ‘‹ Welcome to the ILECO 1 Member-Consumer-Owner (MCO) Support Chatbot!

        We are here to assist you efficiently with your inquiries and concerns.

        âš ï¸ Before proceeding, please review and accept our Terms of Use & Privacy Policy to ensure compliance and protection of your data.
      buttons:
        - title: "Read Terms & Privacy"
          type: "web_url"
          url: "https://ileco1.com/"
        - title: "I Agree"
          payload: "/accept_terms"


  utter_agree:
    - text: |
        âœ… *Thank you for accepting our Terms of Use and Privacy Policy!*

        We're here to help you. Please choose from the options below:

  utter_ask_po_full_name:
    - text: |
        To help us resolve the power issue in your area, kindly provide your:

        ğŸ‘‰ *Full Name*

        ğŸ“Œ *Example:* Juan Dela Cruz
  
  utter_ask_mc_full_name:
    - text: |
        ğŸ“ To help us proceed with your meter concern, may we kindly have your:  
      
        ğŸ‘‰ *Full Name*

        ğŸ“Œ *Example:* Juan Dela Cruz
    
  utter_ask_tta_full_name:
    - text: |
        ğŸ“ To help us proceed with your concern, may we kindly have your:  
      
        ğŸ‘‰ *Full Name*

        ğŸ“Œ *Example:* Juan Dela Cruz

  utter_ask_po_address:
    - text: |
        ğŸ  Please enter your complete address including both:
        â€¢ *Barangay*  
        â€¢ *Town*

        ğŸ“Œ *Example:* Brgy. Bacan, Cabatuan, Iloilo.

  utter_ask_mc_address:
    - text: |
        ğŸ  Please enter your complete address including both:

        â€¢ *Barangay*  
        â€¢ *Town*

        ğŸ“Œ *Example:* Brgy. Bacan, Cabatuan, Iloilo.

  utter_ask_po_contact_number:
    - text: |
        â˜ï¸ *May we ask for your contact number?*

        This will help us reach you with updates regarding your report.

        ğŸ“Œ *Example:* 09123456789
  
  utter_ask_mc_contact_number:
    - text: |
        â˜ï¸ *May we ask for your contact number?*

        This will help us reach you with updates regarding your report.

        ğŸ“Œ *Example:* 09123456789
  
  utter_ask_tta_contact_number:
    - text: |
        â˜ï¸ *May we ask for your contact number?*

        This will help us reach you with updates regarding your report.

        ğŸ“Œ *Example:* 09123456789
  
  utter_ask_mc_account_no:
    - text: |
        ğŸ“Œ To proceed, please provide your *Account Number*. (6â€“7 digits)  
        This will allow us to locate your records quickly.
  
  utter_ask_mc_meter_concern:
    - text: |
        ğŸ’¡ We're here to help with your meter concern!

        ğŸ“ Kindly describe the issue with your electric meter.  
        Examples of valid concerns include:
        - *No display*  
        - *Faded reading*  
        - *Burned*  
        - *Not rotating*  
        - *Stuck up*  
        - *Broken*  
        - *Tilting*  
        - *Defective*  
        - *Damaged*  
        - *Malfunction*  

        This helps us process your request faster. Thank you! ğŸ˜Š

  utter_ask_tta_concern:
    - text: |
        Please choose the reason for your concern:

        1ï¸âƒ£ *No Electricity / Power Outage* 

        2ï¸âƒ£ *Emergency (fallen wire, fire hazard)* 

        3ï¸âƒ£ *Billing Issues* 

        4ï¸âƒ£ *New Connection / Installation* 

        5ï¸âƒ£ *Follow-up on Report* 

        6ï¸âƒ£ *Transfer / Disconnection* 

        7ï¸âƒ£ *Others* â€“ 

        ğŸ’¡ *You can reply with the number (e.g. "1") or describe your concern directly.*
  
  utter_submit_power_outage_form:
    - text: "âœ… Thank you! We've received your report. Our team will respond shortly."
  
  utter_schedule_power_outage:
    - text: |
        âš ï¸ *Scheduled Power Interruption Notice!*

        We would like to inform you of scheduled power interruptions that may affect your area. Kindly refer to the announcements below for more details:

        ğŸ“ *1. Cabatuan*  
        ğŸ”— [View Announcement](https://www.facebook.com/photo?fbid=773449411692393&set=a.205842095119797)

        ğŸ“ *2. Leganes*  
        ğŸ”— [View Announcement](https://www.facebook.com/photo?fbid=772676475103020&set=a.205842095119797)

        ğŸ“ *3. Leon*  
        ğŸ”— [View Announcement](https://www.facebook.com/photo/?fbid=769774592059875&set=a.205842095119797)

        ğŸ™ Thank you for your patience and understanding.

  utter_billing_registration:
    - text: |
        Thank you for reaching out to us.

        To register your account for online billing, please visit the link below:

        ILECO I E-Billing Registration: http://bit.ly/ILECOI-Ebilling
      image: "https://res.cloudinary.com/deirjq57l/image/upload/v1752653645/electronicbilling_pwzch1.jpg"

  utter_billing_registration1:
    - text: |
        With our E-Billing service, you can:

        - Receive your electric bill via email  
        - Check for unpaid bills  
        - View your billing history anytime

  utter_payment_option:
    - text: |
        Thank you for your inquiry. Here are the available payment methods:
        
        â€¢ Over-the-Counter  
        â€¢ GCash  
        â€¢ Office Payment  
        â€¢ Online Banking
      image: "https://res.cloudinary.com/deirjq57l/image/upload/v1752653781/payments_iv0r3l.jpg"

  utter_requirements_checklist:
    - text: |
        ğŸ“‹ *Thank you for your interest in being part of ILECO 1!*

        For your advance reference, here is the checklist of requirements for the application under the following types:

        â€¢ *Indigenous Materials*  
        â€¢ *Concrete Structure*  
        â€¢ *Subdivision*  
        â€¢ *Commercial / Corporation / Judicial*

        Please review the image below carefully.
      image: "https://res.cloudinary.com/deirjq57l/image/upload/v1752655166/APPLICATION_2_ogyk28.png"

  utter_requirements_checklist_2:
    - text: |
        â€¢ *Net Metering Applicants*
      image: "https://res.cloudinary.com/deirjq57l/image/upload/v1752655905/aNetMetering_esfkgb.jpg"
  
  utter_pmos_schedule:
    - text: |
        ğŸŒŸ *APRIL 2025 PMOS SCHEDULE* ğŸŒŸ  
        âœ¨ *Pre-Membership Orientation Seminar*  
        ğŸ“ *At ILECO I Field Offices*

        As part of our mission to provide excellent service to our *Member-Consumer-Owners*,  
        we're bringing PMOS *closer to your community* for your convenience. ğŸ’š

        ğŸ“Œ *Important Reminders:*  
        ğŸš« No Proxy Allowed  
        ğŸ—“ï¸ Pre-registration at least 3 days before the schedule  
        ğŸ‘¥ Max of 15 attendees per schedule  
        âŒ No Confirmation = No Seminar

        ğŸ”— *Register Online:*  
        ğŸ‘‰ [tinyurl.com/ONLINEPMOS](https://tinyurl.com/ONLINEPMOS)

        For questions, contact us here or ğŸ“ 0917-314-4006  
        ğŸ•— Monâ€“Fri | 8AMâ€“5PM (except Holidays)
      image: "https://res.cloudinary.com/deirjq57l/image/upload/v1752739259/pmos_qk9aod.jpg"

  utter_downloadable_forms:
    - text: |
        ğŸ“ *Downloadable Forms Available!*

        You can download and print the forms you need from our website:

        ğŸ‘‰ Visit: [https://ileco1.com]
        Then go to **Consumer Info > What Do You Need**

        ğŸ–¨ï¸ From there, choose your form, download the PDF, and print it at your convenience.

  utter_transfer_of_meter:
    - text: |
        Thank you for reaching out to us regarding your concern. For request of transfer meter, kindly comply the following requirements

        *AFFIDAVIT OF HEIRSHIP WITH CONSENT*
      image: "https://res.cloudinary.com/deirjq57l/image/upload/v1753231174/AFFIDAVIT_OF_HEIRSHIP_WITH_CONSENT_nsjoic.jpg"

  utter_transfer_of_meter1:
    - text: |
        *AFFIDAVIT OF CONSENT*
      image: "https://res.cloudinary.com/deirjq57l/image/upload/v1753231197/AFFIDAVIT_OF_CONSENT_uamlxq.jpg"

  utter_transfer_of_meter2:
    - text: |
        *AFFIDAVIT OF HEIRSHIP*
      image: "https://res.cloudinary.com/deirjq57l/image/upload/v1753231208/AFFIDAVID_OF_HEIRSHIP_q1nitd.jpg"
  
  utter_transfer_of_meter3:
    - text: |
        *INSPECTION REPORT*
      image: "https://res.cloudinary.com/deirjq57l/image/upload/v1753231530/infection_report_py8kon.jpg"
  
  utter_transfer_of_meter4:
    - text: |
        *MAPPING*
      image: "https://res.cloudinary.com/deirjq57l/image/upload/v1753231902/MAPPING_d6ptw7.png"

  utter_contact_information:
    - text: |
        ğŸ“ *Thank you for getting in touch with us!*

        For any concerns or inquiries, feel free to reach us anytime through our **24/7 hotline** below.

        We're always here to assist you!
      image: "https://res.cloudinary.com/deirjq57l/image/upload/v1753235628/Contact_Information_loy4ip.jpg"
  
  utter_contact_information1:
    - text: ""
      image: "https://res.cloudinary.com/deirjq57l/image/upload/v1763627575/ileco_1_hotline_numbers_q9domk.jpg"

  utter_rates:
    - text: |
        Thank you for reaching out to us regarding your inquiries. The rate report for the month is as follows

        We're always here to assist you!
      image: "https://res.cloudinary.com/deirjq57l/image/upload/v1753237954/rates_flkwm1.jpg"
  
  utter_office_location:
    - text: |
        ğŸ¢ *ILECO I Office Locations & Service Centers* ğŸ¢

        ğŸ“ *San Joaquin Collection Office*  
        Public Market, Arroyo St., San Joaquin, Iloilo

        ğŸ“ *Miagao Area Office*  
        Netura St., Ubos Ilawod, Miagao, Iloilo

        ğŸ“ *Guimbal Service Center*  
        Rizal-Tuguisan, Guimbal, Iloilo

        ğŸ“ *ILECO I Main Office*  
        ILECO I Compound, Namocon, Tigbauan, Iloilo

        ğŸ“ *Oton Area Office*  
        Stall #6 & 7, Gaisano Annex, J.C. Zulueta St., Oton, Iloilo

        ğŸ“ *Robinson Collection Office*  
        Ungka II, Pavia, Iloilo

        ğŸ“ *Plazuela Collection Office*  
        2/F, Plazuela Tres, Evangelista St., Pavia, Iloilo

        ğŸ“ *Leganes Service Center*  
        Quintin Salas St., Poblacion, Leganes, Iloilo

        ğŸ“ *San Miguel Service Center*  
        Suarez St., San Miguel, Iloilo

        ğŸ“ *Sta. Barbara Area Office*  
        Bolong Oeste, Sta. Barbara, Iloilo

        ğŸ“ *Cabatuan Service Center*  
        Banguit, Cabatuan, Iloilo

        ğŸ•˜ *Office Hours:* Monday to Friday, 8:00 AM â€“ 5:00 PM

  utter_energy_saving_tips:
    - text: |
        ğŸ’¡ *DID YOU KNOW?* 

        You can *save energy* and *reduce your electric bill* with simple tips!

        ğŸ› ï¸ Turn off appliances when not in use  
        ğŸŒ Use natural light during the day  
        ğŸŒ¬ï¸ Keep appliances clean and well-maintained  
        ğŸ’¡ Switch to LED lights  
        ğŸš¿ Limit use of high-energy appliances during peak hours  

        Let's work together to build a more energy-efficient home! ğŸ ğŸ’š
      image: "https://res.cloudinary.com/deirjq57l/image/upload/v1753239579/energy_saving_tips_rm0zti.jpg"

  utter_default:
    - text: |
        ğŸ¤” I didn't quite understand that.
        
        Please choose an option from the menu or type your answer again.
  
  utter_ask_fr_town:
    - text: |
        ğŸ“ To check the power outage status in your area, please provide:
        
        *What is your TOWN/MUNICIPALITY?*
        
        *Examples:*
        â€¢ Pavia
        â€¢ Oton
        â€¢ Tigbauan
        â€¢ San Miguel
        
        Please type your town/municipality name.

  utter_ask_fr_barangay:
    - text: |
        ğŸ“ Thank you! Now, please provide:
        
        *What is your BARANGAY?*
        
        *Examples:*
        â€¢ Aganan
        â€¢ Barangay 1
        â€¢ Zone 2
        â€¢ Poblacion
        
        Please type your barangay name.
  
  utter_ask_mc_reference_number:
    - text: |
        Please provide your reference number to check the status.
        
        ğŸ“Œ *Example:* MC-20260123-EA3B68AB
        
        You can find this in your confirmation message after submitting your concern.


actions:
  - action_show_carousel
  - action_show_carousel_extra
  - action_submit_power_outage_form
  - validate_meter_concern_form
  - validate_power_outage_form
  - action_submit_follow_up_report_form
  - action_submit_meter_concern
  - action_default_fallback
  - validate_agent_request_form
  - action_request_agent
  - action_resume_conversation
  - action_submit_talk_to_agent_form
  - validate_talk_to_agent_form
  - action_reset_all_slots
  - action_serve_next_user
  - validate_follow_up_report_form
  - action_session_start
  - action_validate_terms_access
  - action_accept_terms
  - action_submit_meter_concern_followup
  - validate_meter_concern_followup_form
  - action_require_terms
  - action_check_terms_and_show_menu          
  - action_check_terms_before_service         
  - action_check_terms_before_form 
  - action_handle_fallback_with_terms       
  - action_handle_greet

session_config:
  session_expiration_time: 60
  carry_over_slots_to_new_session: true